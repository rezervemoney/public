(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6387:(e,t,a)=>{"use strict";a.d(t,{Web3Provider:()=>u});var r=a(95155);a(85035);var n=a(83415),s=a(87017),o=a(26715),l=a(63439),i=a(27041),d=a(67474);let c=new s.E;function u(e){let{children:t}=e;return(0,r.jsx)(n.x,{config:d.$,children:(0,r.jsx)(o.Ht,{client:c,children:(0,r.jsx)(l.qL,{theme:(0,i._)({accentColor:"#07a394",accentColorForeground:"white",borderRadius:"large"}),children:t})})})}},10102:(e,t,a)=>{"use strict";a.d(t,{_:()=>i});var r=a(1405),n=a(12115),s=a(34540),o=a(76736),l=a(40184);function i(){let{tvl:e,totalSupply:t,totalStaked:a,currentSpotPrice:i,totalRewards:d,currentAPR:c,bondTokens:u,tokenInfos:m,stakingPositions:h,projectedEpochRate:p,bondPositions:f,loading:g,error:b,lastUpdated:x}=(0,s.d4)(e=>e.balances),{tvlOverTime:v}=(0,l.m)(),y=(0,n.useCallback)(()=>{var n;let s=Object.entries(o.A.tokens).map(t=>{let[a,n]=t,s=m.find(e=>e.token===n.address),o=(null==s?void 0:s.balance)||0n,l=Number((0,r.J)(BigInt(o),n.decimals));return{symbol:a,amount:l.toString(),value:l.toString(),percentage:l/Number((0,r.J)(BigInt(e),18))*100}}).filter(e=>Number(e.value)>0).sort((e,t)=>Number(t.value)-Number(e.value)),l=null===(n=m.find(e=>e.token===o.A.tokens.RZR.address))||void 0===n?void 0:n.treasuryBalance,d=Number((0,r.J)(BigInt(l||"0"),18)),u=Number((0,r.J)(BigInt(t),18)),h=Number((0,r.J)(BigInt(e),18))+d,p=Number((0,r.J)(BigInt(i),18));return{tokenPrice:p,marketCap:u*p,treasuryValue:h,lastUpdate:x||Date.now(),totalStaked:Number((0,r.J)(BigInt(a),18)),circulatingSupply:u,fullyDilutedMarketCap:u*p,currentAPY:Number(c),dailyROI:0,riskFreeValue:0,backingPrice:h/u,treasuryAssets:s,marketCapChange:0,apyChange:0,priceChange:0,treasuryChange:0}},[m,e,t,a,c,x]);return{tvlOverTime:v,currentSpotPrice:i,tvl:e,totalSupply:t,totalStaked:a,totalRewards:d,currentAPR:c,projectedEpochRate:p,bondTokens:u,tokenInfos:m,stakingPositions:h,bondPositions:f,loading:g,error:b,lastUpdated:x,fetchProtocolData:y}}},12864:(e,t,a)=>{"use strict";a.d(t,{Header:()=>j});var r=a(95155),n=a(6874),s=a.n(n),o=a(35695),l=a(63439),i=a(12115),d=a(74783),c=a(97168),u=a(15452),m=a(74466),h=a(54416),p=a(53999);let f=u.bL,g=u.l9;u.bm;let b=u.ZL,x=i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(u.hJ,{className:(0,p.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});x.displayName=u.hJ.displayName;let v=(0,m.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),y=i.forwardRef((e,t)=>{let{side:a="right",className:n,children:s,...o}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(u.UC,{ref:t,className:(0,p.cn)(v({side:a}),n),...o,children:[s,(0,r.jsxs)(u.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function w(e){let{links:t}=e,[a,n]=(0,i.useState)(!1),l=(0,o.usePathname)();return(0,r.jsxs)(f,{open:a,onOpenChange:n,children:[(0,r.jsx)(g,{asChild:!0,children:(0,r.jsxs)(c.$,{variant:"ghost",size:"icon",onClick:()=>n(!0),className:"md:hidden text-gray-700",children:[(0,r.jsx)(d.A,{className:"h-6 w-6"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,r.jsx)(y,{side:"right",className:"bg-white border-gray-800 pt-10",children:(0,r.jsx)("div",{className:"flex flex-col space-y-6",children:(0,r.jsx)("nav",{className:"flex flex-col space-y-4",children:t.map(e=>(0,r.jsx)(s(),{href:e.href,className:"text-lg font-medium px-2 py-1 rounded-md transition-colors ".concat(l===e.href?"text-blue-primary bg-gray-500/10":"text-gray-700 hover:text-blue-primary hover:bg-gray-500/10"),onClick:()=>n(!1),children:e.label},e.href))})})})]})}function j(){let e=(0,o.usePathname)(),t=[{href:"/stake",label:"Stake"},{href:"/bond",label:"Bond"},{href:"/referral",label:"Referral"}];return(0,r.jsx)("header",{className:"w-full bg-white/30 backdrop-blur-md",children:(0,r.jsxs)("div",{className:"mx-auto flex items-center justify-between p-4",children:[(0,r.jsx)("div",{className:"flex items-center md:gap-6",children:(0,r.jsx)(s(),{href:"/",children:(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("h1",{className:"text-xl md:text-2xl font-bold gradient-text",children:"Rezerve Munny"})})})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-4",children:t.map(t=>(0,r.jsx)(s(),{href:t.href,className:"text-sm font-bold transition-colors playful-button px-4 py-2 ".concat(e===t.href?"text-white bg-blue-primary":"text-blue-primary bg-white"),children:t.label},t.href))}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.pK,{accountStatus:"address",showBalance:!1,chainStatus:"icon"}),(0,r.jsx)(w,{links:t})]})]})]})})}y.displayName=u.UC.displayName,i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(u.hE,{ref:t,className:(0,p.cn)("text-lg font-semibold text-foreground",a),...n})}).displayName=u.hE.displayName,i.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(u.VY,{ref:t,className:(0,p.cn)("text-sm text-muted-foreground",a),...n})}).displayName=u.VY.displayName},19324:()=>{},30943:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var r=a(38227),n=a(36241),s=a(81100),o=a(49433),l=a(76736);async function i(e){let t=(0,r.l)({chain:s.T,transport:(0,n.L)()}),[a,i,d,c,u,m,h,p,f,g]=await t.readContract({address:l.A.coreAddresses.uiHelper,abi:o,functionName:"getProtocolInfo",args:[e,Object.values(l.A.tokens).filter(e=>"0x0000000000000000000000000000000000000000"!==e.address).map(e=>e.address)]});return{tvl:a,totalSupply:i,totalStaked:d,totalRewards:c,currentAPR:u,currentSpotPrice:m,tokenInfos:h,stakingPositions:p,bondPositions:f,projectedEpochRate:g}}},34654:(e,t,a)=>{"use strict";a.d(t,{AnimatedHeroBackground:()=>o});var r=a(95155),n=a(12115),s=a(66766);function o(e){let{className:t=""}=e,[a,o]=(0,n.useState)(0),[l,i]=(0,n.useState)(!1),d=["/pages/image-derp.png","/pages/image-rocket.png","/pages/image-btc.png"];return(0,n.useEffect)(()=>{let e=setInterval(()=>{i(!0),setTimeout(()=>{o(e=>(e+1)%d.length),i(!1)},500)},4e3);return()=>clearInterval(e)},[d.length]),(0,r.jsxs)("div",{className:"fixed opacity-10 rounded-lg inset-0 z-[-1]",children:[(0,r.jsx)("div",{className:"fixed inset-0 transition-opacity duration-1000 ease-in-out ".concat(l?"opacity-0":"opacity-100"),children:(0,r.jsx)(s.default,{src:d[a]||"/placeholder.svg",alt:"Rezerve Munny background",fill:!0,className:"object-cover object-center rounded-lg",priority:0===a})}),(0,r.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000 ease-in-out ".concat("opacity-0"),children:(0,r.jsx)(s.default,{src:d[(a+1)%d.length]||"/placeholder.svg",alt:"Rezerve Munny background",fill:!0,className:"object-cover object-center"})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 via-white/50 to-white/90 z-10"})]})}},39919:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,Q:()=>n});let r=(0,a(51990).Z0)({name:"bonding",initialState:{offerings:[]},reducers:{setOfferings:(e,t)=>{e.offerings=t.payload}}}),{setOfferings:n}=r.actions,s=r.reducer},42736:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,19324,23)),Promise.resolve().then(a.bind(a,34654)),Promise.resolve().then(a.bind(a,82201)),Promise.resolve().then(a.bind(a,99258)),Promise.resolve().then(a.bind(a,6387)),Promise.resolve().then(a.bind(a,99304)),Promise.resolve().then(a.bind(a,12864)),Promise.resolve().then(a.bind(a,26259)),Promise.resolve().then(a.bind(a,96063)),Promise.resolve().then(a.bind(a,58930)),Promise.resolve().then(a.t.bind(a,69243,23)),Promise.resolve().then(a.t.bind(a,16741,23)),Promise.resolve().then(a.t.bind(a,34563,23))},82201:(e,t,a)=>{"use strict";a.d(t,{default:()=>m});var r=a(95155),n=a(71539),s=a(92138),o=a(6874),l=a.n(o),i=a(97168),d=a(35695),c=a(58281),u=a(83119);function m(){let e="/"===(0,d.usePathname)(),t=(0,u.a)(),{currentAPR:a}=(0,c.B)();return(0,r.jsx)("div",{children:e&&!t&&(0,r.jsx)("div",{className:"w-full bg-white/20 backdrop-blur-md",children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-500/90 to-purple-500/90 shadow-lg overflow-hidden",children:(0,r.jsxs)("div",{className:"p-4 md:p-6 relative",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -ml-32 -mb-32 pointer-events-none"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 relative z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,r.jsx)(n.A,{className:"h-6 w-6 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-black text-white playful-font drop-shadow-md",children:"Limited Access Ferm \uD83E\uDDD1‍\uD83C\uDF3E"}),(0,r.jsxs)("p",{className:"text-white/90",children:["Ferm ",a,"% APR, withdraw after 3 days. Only 100k USDC available"]})]})]}),(0,r.jsx)(i.$,{asChild:!0,size:"lg",className:"playful-button bg-white text-blue-600 hover:bg-gray-50 font-bold shadow-lg",children:(0,r.jsxs)(l(),{href:"/stake?tab=mint",className:"flex items-center gap-1",children:["Ferm Nov",(0,r.jsx)(s.A,{className:"h-4 w-4"})]})})]})]})})})})})}},83119:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var r=a(12115);function n(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}},99258:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>C});var r=a(95155),n=a(34540),s=a(51990),o=a(52939);let l=(0,s.Z0)({name:"protocol",initialState:{tvlOverTime:[],metrics:null,loading:!1,error:null},reducers:{setProtocolMetrics:(e,t)=>{e.metrics=t.payload,e.loading=!1,e.error=null},setTvlOverTime:(e,t)=>{e.tvlOverTime=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1}}}),{setProtocolMetrics:i,setLoading:d,setError:c,setTvlOverTime:u}=l.actions,m=l.reducer;var h=a(8345),p=a(39919),f=a(30943),g=a(1405);let b=(e,t)=>{switch(e.toLowerCase()){case"0x36e6765907dd61b50ad33f79574dd1b63339b59c":return"RZR/stS LP";case"0x08c5e3b7533ee819a4d1f66e839d0e8f04ae3d0c":return"RZR/scUSD LP";default:return t}},x=(e,t)=>{switch(e.toLowerCase()){case"0x36e6765907dd61b50ad33f79574dd1b63339b59c":return"RZR-stS-LP";case"0x08c5e3b7533ee819a4d1f66e839d0e8f04ae3d0c":return"RZR-scUSD-LP";default:return t}},v=(0,s.zD)("balances/fetchProtocolInfo",async e=>{let t=await (0,f.r)(e);return{tvl:t.tvl.toString(),totalSupply:t.totalSupply.toString(),totalStaked:t.totalStaked.toString(),totalRewards:t.totalRewards.toString(),currentSpotPrice:t.currentSpotPrice.toString(),currentAPR:Number((0,g.J)(BigInt(t.currentAPR),16)).toFixed(2),projectedEpochRate:{apr:t.projectedEpochRate.apr.toString(),epochRate:t.projectedEpochRate.epochRate.toString(),toStakers:t.projectedEpochRate.toStakers.toString(),toOps:t.projectedEpochRate.toOps.toString(),toBurner:t.projectedEpochRate.toBurner.toString()},tokenInfos:t.tokenInfos.map(e=>({symbol:x(e.token,e.symbol),token:b(e.token,e.token),decimals:Number(e.decimals),oraclePrice:e.oraclePrice.toString(),oraclePriceInApp:e.oraclePriceInApp.toString(),treasuryValueApp:e.treasuryValueApp.toString(),treasuryBalance:e.treasuryBalance.toString(),balance:e.balance.toString(),allowance:e.allowance.toString()})),stakingPositions:t.stakingPositions.map(e=>({id:e.id.toString(),amount:e.amount.toString(),isActive:e.isActive,owner:e.owner,rewards:e.rewards.toString(),cooldownEnd:e.cooldownEnd.toString(),declaredValue:e.declaredValue.toString(),rewardsUnlockAt:e.rewardsUnlockAt.toString()})),bondPositions:t.bondPositions.map(e=>({id:e.id.toString(),bondId:e.bondId.toString(),amount:e.amount.toString(),quoteAmount:e.quoteAmount.toString(),startTime:e.startTime.toString(),lastClaimTime:e.lastClaimTime.toString(),claimedAmount:e.claimedAmount.toString(),claimableAmount:e.claimableAmount.toString(),isStaked:e.isStaked}))}}),y=(0,s.Z0)({name:"balances",initialState:{tvl:"0",totalSupply:"0",totalStaked:"0",currentSpotPrice:"0",totalRewards:"0",currentAPR:"0",bondTokens:[],projectedEpochRate:{apr:"0",epochRate:"0",toStakers:"0",toOps:"0",toBurner:"0"},tokenInfos:[],stakingPositions:[],bondPositions:[],loading:!1,error:null,lastUpdated:null},reducers:{},extraReducers:e=>{e.addCase(v.pending,e=>{e.loading=!0,e.error=null}).addCase(v.fulfilled,(e,t)=>{e.loading=!1,e.error=null,e.lastUpdated=Date.now(),e.tvl=t.payload.tvl,e.totalSupply=t.payload.totalSupply,e.totalStaked=t.payload.totalStaked,e.totalRewards=t.payload.totalRewards,e.currentAPR=t.payload.currentAPR,e.currentSpotPrice=t.payload.currentSpotPrice,e.projectedEpochRate=t.payload.projectedEpochRate,e.tokenInfos=t.payload.tokenInfos,e.stakingPositions=t.payload.stakingPositions,e.bondPositions=t.payload.bondPositions}).addCase(v.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch protocol info"})}}).reducer,w=(0,s.U1)({reducer:{user:o.Ay,protocol:m,staking:h.Ay,bonding:p.A,balances:y}});var j=a(12115),N=a(10102);let S=e=>{let{children:t}=e,a=(0,n.wA)(),{lastUpdated:s}=(0,n.d4)(e=>e.balances),{fetchProtocolData:o}=(0,N._)();return(0,j.useEffect)(()=>{let e=async()=>{try{let e=await o();a(i(e))}catch(e){console.error("Error fetching protocol data:",e)}};s&&e()},[a,o,s]),(0,r.jsx)(r.Fragment,{children:t})};var k=a(2145);async function P(){try{let e=await fetch("https://api.llama.fi/hourly/rezervemoney");if(!e.ok)throw Error("Failed to fetch TVL data");return await e.json()}catch(e){throw console.error("Error fetching TVL data:",e),e}}let R=()=>{let e=(0,n.wA)(),{address:t,isConnected:a}=(0,k.F)(),r=(0,j.useRef)(void 0),{metrics:s}=(0,n.d4)(e=>e.protocol),o=async()=>{try{let t=await P(),a=function(e){return e.tvl&&0!==e.tvl.length?e.tvl.map(e=>({date:e.date,tvl:e.totalLiquidityUSD})):[]}(t);e(u(a))}catch(e){console.error(e)}},l=(0,j.useCallback)(()=>{t?e(v(t)):e(v("0x0000000000000000000000000000000000000001"))},[t,e]);return(0,j.useEffect)(()=>(l(),o(),r.current=setInterval(l,5e3),()=>{r.current&&clearInterval(r.current)}),[]),(0,j.useEffect)(()=>{a&&t?(r.current&&clearInterval(r.current),l(),r.current=setInterval(l,5e3)):r.current&&clearInterval(r.current)},[a,t,l]),{refreshProtocolData:l}};function A(e){let{children:t}=e;return R(),(0,r.jsx)(r.Fragment,{children:t})}function C(e){let{children:t}=e;return(0,r.jsx)(n.Kq,{store:w,children:(0,r.jsx)(S,{children:(0,r.jsx)(A,{children:t})})})}},99304:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>s});var r=a(95155);a(12115);var n=a(51362);function s(e){let{children:t,...a}=e;return(0,r.jsx)(n.N,{...a,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,2655,8451,9489,8878,6847,1071,4327,813,8441,1684,7358],()=>t(42736)),_N_E=e.O()}]);