(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6387:(e,t,n)=>{"use strict";n.d(t,{Web3Provider:()=>p});var a=n(95155);n(85035);var r=n(83415),i=n(87017),s=n(26715),o=n(63439),l=n(27041),d=n(67474);let u=new i.E;function p(e){let{children:t}=e;return(0,a.jsx)(r.x,{config:d.$,children:(0,a.jsx)(s.Ht,{client:u,children:(0,a.jsx)(o.qL,{theme:(0,l._)({accentColor:"#07a394",accentColorForeground:"white",borderRadius:"large"}),children:t})})})}},10102:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var a=n(1405),r=n(12115),i=n(34540),s=n(76736),o=n(40184);function l(){let{tvl:e,totalSupply:t,totalStaked:n,currentSpotPrice:l,totalRewards:d,currentAPR:u,bondTokens:p,tokenInfos:c,stakingPositions:y,projectedEpochRate:m,bondPositions:f,loading:h,error:b,lastUpdated:g}=(0,i.d4)(e=>e.balances),{tvlOverTime:v}=(0,o.m)(),w=(0,r.useCallback)(()=>{var r;let i=Object.entries(s.A.tokens).map(t=>{let[n,r]=t,i=c.find(e=>e.token===r.address),s=(null==i?void 0:i.balance)||0n,o=Number((0,a.J)(BigInt(s),r.decimals));return{symbol:n,amount:o.toString(),value:o.toString(),percentage:o/Number((0,a.J)(BigInt(e),18))*100}}).filter(e=>Number(e.value)>0).sort((e,t)=>Number(t.value)-Number(e.value)),o=null===(r=c.find(e=>e.token===s.A.tokens.RZR.address))||void 0===r?void 0:r.treasuryBalance,d=Number((0,a.J)(BigInt(o||"0"),18)),p=Number((0,a.J)(BigInt(t),18)),y=Number((0,a.J)(BigInt(e),18))+d,m=Number((0,a.J)(BigInt(l),18));return{tokenPrice:m,marketCap:p*m,treasuryValue:y,lastUpdate:g||Date.now(),totalStaked:Number((0,a.J)(BigInt(n),18)),circulatingSupply:p,fullyDilutedMarketCap:p*m,currentAPY:Number(u),dailyROI:0,riskFreeValue:0,backingPrice:y/p,treasuryAssets:i,marketCapChange:0,apyChange:0,priceChange:0,treasuryChange:0}},[c,e,t,n,u,g]);return{tvlOverTime:v,currentSpotPrice:l,tvl:e,totalSupply:t,totalStaked:n,totalRewards:d,currentAPR:u,projectedEpochRate:m,bondTokens:p,tokenInfos:c,stakingPositions:y,bondPositions:f,loading:h,error:b,lastUpdated:g,fetchProtocolData:w}}},12864:(e,t,n)=>{"use strict";n.d(t,{Header:()=>S});var a=n(95155),r=n(6874),i=n.n(r),s=n(35695),o=n(63439),l=n(12115),d=n(74783),u=n(94870),p=n(97168),c=n(15452),y=n(74466),m=n(54416),f=n(53999);let h=c.bL,b=c.l9;c.bm;let g=c.ZL,v=l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(c.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...r,ref:t})});v.displayName=c.hJ.displayName;let w=(0,y.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=l.forwardRef((e,t)=>{let{side:n="right",className:r,children:i,...s}=e;return(0,a.jsxs)(g,{children:[(0,a.jsx)(v,{}),(0,a.jsxs)(c.UC,{ref:t,className:(0,f.cn)(w({side:n}),r),...s,children:[i,(0,a.jsxs)(c.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});function T(e){let{links:t}=e,[n,r]=(0,l.useState)(!1),o=(0,s.usePathname)();return(0,a.jsxs)(h,{open:n,onOpenChange:r,children:[(0,a.jsx)(b,{asChild:!0,children:(0,a.jsxs)(p.$,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"md:hidden text-gray-700",children:[(0,a.jsx)(d.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle menu"})]})}),(0,a.jsx)(x,{side:"right",className:"bg-white border-gray-800 pt-10",children:(0,a.jsx)("div",{className:"flex flex-col space-y-6",children:(0,a.jsxs)("nav",{className:"flex flex-col space-y-4",children:[t.map(e=>(0,a.jsx)(i(),{href:e.href,className:"text-lg font-medium px-2 py-1 rounded-md transition-colors ".concat(o===e.href?"text-blue-primary bg-gray-500/10":"text-gray-700 hover:text-blue-primary hover:bg-gray-500/10"),onClick:()=>r(!1),children:e.label},e.href)),(0,a.jsxs)("a",{href:"https://app.fly.trade/swap/sonic/S/sonic/RZR",target:"_blank",rel:"noopener noreferrer",className:"text-lg font-medium px-2 py-1 rounded-md transition-colors text-white bg-blue-primary hover:bg-blue-600 flex items-center gap-2",onClick:()=>r(!1),children:["Buy RZR",(0,a.jsx)(u.A,{className:"h-4 w-4"})]})]})})})]})}function S(){let e=(0,s.usePathname)(),t=[{href:"/stake",label:"Stake"},{href:"/bond",label:"Bond"},{href:"/referral",label:"Referral"}];return(0,a.jsx)("header",{className:"w-full bg-white/30 backdrop-blur-md",children:(0,a.jsxs)("div",{className:"mx-auto flex items-center justify-between p-4",children:[(0,a.jsx)("div",{className:"flex items-center md:gap-6",children:(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsx)("h1",{className:"text-xl md:text-2xl font-bold gradient-text",children:"Rezerve Munny"})})})}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("nav",{className:"hidden md:flex items-center gap-4",children:[t.map(t=>(0,a.jsx)(i(),{href:t.href,className:"text-sm font-bold transition-colors playful-button px-4 py-2 ".concat(e===t.href?"text-white bg-blue-primary":"text-blue-primary bg-white"),children:t.label},t.href)),(0,a.jsxs)("a",{href:"https://app.fly.trade/swap/sonic/S/sonic/RZR",target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold transition-colors playful-button px-4 py-2 text-white bg-blue-primary hover:bg-blue-600 flex items-center gap-2",children:["Buy RZR",(0,a.jsx)(u.A,{className:"h-4 w-4"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.pK,{accountStatus:"address",showBalance:!1,chainStatus:"icon"}),(0,a.jsx)(T,{links:t})]})]})]})})}x.displayName=c.UC.displayName,l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(c.hE,{ref:t,className:(0,f.cn)("text-lg font-semibold text-foreground",n),...r})}).displayName=c.hE.displayName,l.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(c.VY,{ref:t,className:(0,f.cn)("text-sm text-muted-foreground",n),...r})}).displayName=c.VY.displayName},19324:()=>{},30943:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var a=n(38227),r=n(36241),i=n(81100),s=n(78014),o=n(76736);async function l(e){let t=(0,a.l)({chain:i.T,transport:(0,r.L)()}),[n,l,d,u,p,c,y,m,f,h]=await t.readContract({address:o.A.coreAddresses.uiHelperRead,abi:s,functionName:"getProtocolInfo",args:[e,Object.values(o.A.tokens).filter(e=>"RZR"!==e.symbol).map(e=>e.address).map(e=>"0x0000000000000000000000000000000000000000"==e.toLowerCase()?o.wS:e)]});return{tvl:n,totalSupply:l,totalStaked:d,totalRewards:u,currentAPR:p,currentSpotPrice:c,tokenInfos:y,stakingPositions:m,bondPositions:f,projectedEpochRate:h}}},34654:(e,t,n)=>{"use strict";n.d(t,{AnimatedHeroBackground:()=>s});var a=n(95155),r=n(12115),i=n(66766);function s(e){let{className:t=""}=e,[n,s]=(0,r.useState)(0),[o,l]=(0,r.useState)(!1),d=["/pages/image-derp.png","/pages/image-rocket.png","/pages/image-btc.png"];return(0,r.useEffect)(()=>{let e=setInterval(()=>{l(!0),setTimeout(()=>{s(e=>(e+1)%d.length),l(!1)},500)},4e3);return()=>clearInterval(e)},[d.length]),(0,a.jsxs)("div",{className:"fixed opacity-10 rounded-lg inset-0 z-[-1]",children:[(0,a.jsx)("div",{className:"fixed inset-0 transition-opacity duration-1000 ease-in-out ".concat(o?"opacity-0":"opacity-100"),children:(0,a.jsx)(i.default,{src:d[n]||"/placeholder.svg",alt:"Rezerve Munny background",fill:!0,className:"object-cover object-center rounded-lg",priority:0===n})}),(0,a.jsx)("div",{className:"absolute inset-0 transition-opacity duration-1000 ease-in-out ".concat("opacity-0"),children:(0,a.jsx)(i.default,{src:d[(n+1)%d.length]||"/placeholder.svg",alt:"Rezerve Munny background",fill:!0,className:"object-cover object-center"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 via-white/50 to-white/90 z-10"})]})}},39919:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,Q:()=>r});let a=(0,n(51990).Z0)({name:"bonding",initialState:{offerings:[]},reducers:{setOfferings:(e,t)=>{e.offerings=t.payload}}}),{setOfferings:r}=a.actions,i=a.reducer},83869:(e,t,n)=>{"use strict";n.d(t,{xt:()=>g,Ay:()=>v,zz:()=>f,tk:()=>c,ne:()=>h});var a=n(51990),r=n(5887),i=n(2962),s=n(97351),o=n(75162),l=n(67474);let d=JSON.parse('[{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientAllowance","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"needed","type":"uint256"}],"name":"ERC20InsufficientBalance","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC20InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC20InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC20InvalidSender","type":"error"},{"inputs":[{"internalType":"address","name":"spender","type":"address"}],"name":"ERC20InvalidSpender","type":"error"},{"inputs":[],"name":"InvalidInitialization","type":"error"},{"inputs":[],"name":"NotInitializing","type":"error"},{"inputs":[],"name":"ReentrancyGuardReentrantCall","type":"error"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract IAppAuthority","name":"authority","type":"address"}],"name":"AuthorityUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"buyoutPremiumBps","type":"uint256"}],"name":"BuyoutPremiumBpsUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"assets","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"}],"name":"Deposit","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint64","name":"version","type":"uint64"}],"name":"Initialized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsCompounded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Staked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":true,"internalType":"address","name":"receiver","type":"address"},{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"uint256","name":"assets","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"shares","type":"uint256"}],"name":"Withdraw","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"appToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"asset","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"authority","outputs":[{"internalType":"contract IAppAuthority","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"buyoutPremiumBps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"convertToAssets","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"convertToShares","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"deposit","outputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"harvest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"_staking","type":"address"},{"internalType":"address","name":"_authority","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"initializePosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"maxDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"maxMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"maxRedeem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"maxWithdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"}],"name":"mint","outputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"positionValue","outputs":[{"internalType":"uint256","name":"value","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"previewDeposit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"previewMint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"name":"previewRedeem","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"name":"previewWithdraw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"recreatePosition","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"redeem","outputs":[{"internalType":"uint256","name":"assets","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract IAppAuthority","name":"_newAuthority","type":"address"}],"name":"setAuthority","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_buyoutPremiumBps","type":"uint256"}],"name":"setBuyoutPremiumBps","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"registry","type":"address"},{"internalType":"uint256","name":"projectID","type":"uint256"}],"name":"setFeeMProjectId","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"staking","outputs":[{"internalType":"contract IAppStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"tokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAssets","outputs":[{"internalType":"uint256","name":"totalManagedAssets","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"assets","type":"uint256"},{"internalType":"address","name":"receiver","type":"address"},{"internalType":"address","name":"owner","type":"address"}],"name":"withdraw","outputs":[{"internalType":"uint256","name":"shares","type":"uint256"}],"stateMutability":"nonpayable","type":"function"}]');var u=n(88579),p=n(76736);let c=(0,a.zD)("vault/fetchVaultInfo",async e=>{let{vaultAddress:t,userAddress:n}=e;try{let e=await (0,r.C)(l.$,{contracts:[{address:t,abi:d,functionName:"name"},{address:t,abi:d,functionName:"symbol"},{address:t,abi:d,functionName:"decimals"},{address:t,abi:d,functionName:"balanceOf",args:[n||"0x0000000000000000000000000000000000000000"]}]});return{address:t,name:e[0].result,symbol:e[1].result,decimals:e[2].result,userBalance:n?e[3].result.toString():"0"}}catch(e){throw console.error("Error fetching vault info:",e),e}}),y=(0,a.zD)("vault/fetchAllowance",async e=>{let{vaultAddress:t,userAddress:n}=e;try{return(await (0,r.C)(l.$,{contracts:[{address:p.A.tokens.RZR.address,abi:d,functionName:"allowance",args:[n,t]}]}))[0].result}catch(e){throw console.error("Error fetching allowance:",e),e}}),m=(0,a.zD)("vault/approve",async e=>{let{vaultAddress:t}=e;try{return(await (0,r.C)(l.$,{contracts:[{address:p.A.tokens.RZR.address,abi:d,functionName:"approve",args:[t,u.Ao]}]}))[0].result}catch(e){throw console.error("Error approving:",e),e}}),f=(0,a.zD)("vault/deposit",async e=>{let{vaultAddress:t,amount:n,userAddress:a}=e;try{let{request:e}=await (0,i.v)(l.$,{address:t,abi:d,functionName:"deposit",args:[n,a]}),r=await (0,s.E)(l.$,e);return await (0,o.n)(l.$,{hash:r}),r}catch(e){throw e}}),h=(0,a.zD)("vault/withdraw",async e=>{let{vaultAddress:t,amount:n,userAddress:a}=e;try{let{request:e}=await (0,i.v)(l.$,{address:t,abi:d,functionName:"withdraw",args:[n,a,a]}),r=await (0,s.E)(l.$,e);return await (0,o.n)(l.$,{hash:r}),r}catch(e){throw e}}),b=(0,a.Z0)({name:"vault",initialState:{vaults:{},loading:!1,error:null,isDepositing:!1,depositError:null,depositTxHash:null,isApproving:!1,approveError:null,approveTxHash:null,allowance:null,isWithdrawing:!1,withdrawError:null,withdrawTxHash:null},reducers:{clearVaultState:e=>{e.isDepositing=!1,e.depositError=null,e.depositTxHash=null,e.isApproving=!1,e.approveError=null,e.approveTxHash=null,e.isWithdrawing=!1,e.withdrawError=null,e.withdrawTxHash=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.vaults[t.payload.address]=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch vault info"}).addCase(y.fulfilled,(e,t)=>{e.allowance=t.payload}).addCase(m.pending,e=>{e.isApproving=!0,e.approveError=null}).addCase(m.fulfilled,(e,t)=>{e.isApproving=!1,e.approveTxHash=t.payload}).addCase(m.rejected,(e,t)=>{e.isApproving=!1,e.approveError=t.error.message||"Failed to approve"}).addCase(f.pending,e=>{e.isDepositing=!0,e.depositError=null,e.depositTxHash=null}).addCase(f.fulfilled,(e,t)=>{e.isDepositing=!1,e.depositTxHash=t.payload}).addCase(f.rejected,(e,t)=>{e.isDepositing=!1,e.depositError=t.error.message||"Deposit failed"}).addCase(h.pending,e=>{e.isWithdrawing=!0,e.withdrawError=null,e.withdrawTxHash=null}).addCase(h.fulfilled,(e,t)=>{e.isWithdrawing=!1,e.withdrawTxHash=t.payload}).addCase(h.rejected,(e,t)=>{e.isWithdrawing=!1,e.withdrawError=t.error.message||"Withdraw failed"})}}),{clearVaultState:g}=b.actions,v=b.reducer},85118:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,19324,23)),Promise.resolve().then(n.bind(n,34654)),Promise.resolve().then(n.bind(n,99258)),Promise.resolve().then(n.bind(n,6387)),Promise.resolve().then(n.bind(n,99304)),Promise.resolve().then(n.bind(n,12864)),Promise.resolve().then(n.bind(n,26259)),Promise.resolve().then(n.bind(n,96063)),Promise.resolve().then(n.bind(n,58930)),Promise.resolve().then(n.t.bind(n,69243,23)),Promise.resolve().then(n.t.bind(n,16741,23)),Promise.resolve().then(n.t.bind(n,34563,23))},99258:(e,t,n)=>{"use strict";n.d(t,{Providers:()=>C});var a=n(95155),r=n(34540),i=n(51990),s=n(52939);let o=(0,i.Z0)({name:"protocol",initialState:{tvlOverTime:[],metrics:null,loading:!1,error:null},reducers:{setProtocolMetrics:(e,t)=>{e.metrics=t.payload,e.loading=!1,e.error=null},setTvlOverTime:(e,t)=>{e.tvlOverTime=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload,e.loading=!1}}}),{setProtocolMetrics:l,setLoading:d,setError:u,setTvlOverTime:p}=o.actions,c=o.reducer;var y=n(8345),m=n(39919),f=n(30943),h=n(1405);let b=(e,t)=>{switch(e.toLowerCase()){case"0x36e6765907dd61b50ad33f79574dd1b63339b59c":return"RZR/stS LP";case"0x08c5e3b7533ee819a4d1f66e839d0e8f04ae3d0c":return"RZR/scUSD LP";default:return t}},g=(e,t)=>{switch(e.toLowerCase()){case"0x36e6765907dd61b50ad33f79574dd1b63339b59c":return"RZR-stS-LP";case"0x08c5e3b7533ee819a4d1f66e839d0e8f04ae3d0c":return"RZR-scUSD-LP";default:return t}},v=(0,i.zD)("balances/fetchProtocolInfo",async e=>{let t=await (0,f.r)(e);return{tvl:t.tvl.toString(),totalSupply:t.totalSupply.toString(),totalStaked:t.totalStaked.toString(),totalRewards:t.totalRewards.toString(),currentSpotPrice:t.currentSpotPrice.toString(),currentAPR:Number((0,h.J)(BigInt(t.currentAPR),16)).toFixed(2),projectedEpochRate:{apr:t.projectedEpochRate.apr.toString(),epochRate:t.projectedEpochRate.epochRate.toString(),toStakers:t.projectedEpochRate.toStakers.toString(),toOps:t.projectedEpochRate.toOps.toString(),toBurner:t.projectedEpochRate.toBurner.toString()},tokenInfos:t.tokenInfos.map(e=>({symbol:g(e.token,e.symbol),token:b(e.token,e.token),decimals:Number(e.decimals),oraclePrice:e.oraclePrice.toString(),oraclePriceInApp:e.oraclePriceInApp.toString(),treasuryValueApp:e.treasuryValueApp.toString(),treasuryBalance:e.treasuryBalance.toString(),balance:e.balance.toString(),allowance:e.allowance.toString()})),stakingPositions:t.stakingPositions.map(e=>({id:e.id.toString(),amount:e.amount.toString(),isActive:e.isActive,owner:e.owner,rewards:e.rewards.toString(),cooldownEnd:e.cooldownEnd.toString(),declaredValue:e.declaredValue.toString(),rewardsUnlockAt:e.rewardsUnlockAt.toString()})),bondPositions:t.bondPositions.map(e=>({id:e.id.toString(),bondId:e.bondId.toString(),amount:e.amount.toString(),quoteAmount:e.quoteAmount.toString(),startTime:e.startTime.toString(),lastClaimTime:e.lastClaimTime.toString(),claimedAmount:e.claimedAmount.toString(),claimableAmount:e.claimableAmount.toString(),isStaked:e.isStaked}))}}),w=(0,i.Z0)({name:"balances",initialState:{tvl:"0",totalSupply:"0",totalStaked:"0",currentSpotPrice:"0",totalRewards:"0",currentAPR:"0",bondTokens:[],projectedEpochRate:{apr:"0",epochRate:"0",toStakers:"0",toOps:"0",toBurner:"0"},tokenInfos:[],stakingPositions:[],bondPositions:[],loading:!1,error:null,lastUpdated:null},reducers:{},extraReducers:e=>{e.addCase(v.pending,e=>{e.loading=!0,e.error=null}).addCase(v.fulfilled,(e,t)=>{e.loading=!1,e.error=null,e.lastUpdated=Date.now(),e.tvl=t.payload.tvl,e.totalSupply=t.payload.totalSupply,e.totalStaked=t.payload.totalStaked,e.totalRewards=t.payload.totalRewards,e.currentAPR=t.payload.currentAPR,e.currentSpotPrice=t.payload.currentSpotPrice,e.projectedEpochRate=t.payload.projectedEpochRate,e.tokenInfos=t.payload.tokenInfos,e.stakingPositions=t.payload.stakingPositions,e.bondPositions=t.payload.bondPositions}).addCase(v.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch protocol info"})}}).reducer;var x=n(83869);let T=(0,i.U1)({reducer:{user:s.Ay,protocol:c,staking:y.Ay,bonding:m.A,balances:w,vault:x.Ay}});var S=n(12115),R=n(10102);let j=e=>{let{children:t}=e,n=(0,r.wA)(),{lastUpdated:i}=(0,r.d4)(e=>e.balances),{fetchProtocolData:s}=(0,R._)();return(0,S.useEffect)(()=>{let e=async()=>{try{let e=await s();n(l(e))}catch(e){console.error("Error fetching protocol data:",e)}};i&&e()},[n,s,i]),(0,a.jsx)(a.Fragment,{children:t})};var k=n(2145);async function N(){try{let e=await fetch("https://api.llama.fi/hourly/rezervemoney");if(!e.ok)throw Error("Failed to fetch TVL data");return await e.json()}catch(e){throw console.error("Error fetching TVL data:",e),e}}let A=()=>{let e=(0,r.wA)(),{address:t,isConnected:n}=(0,k.F)(),a=(0,S.useRef)(void 0),{metrics:i}=(0,r.d4)(e=>e.protocol),s=async()=>{try{let t=await N(),n=function(e){return e.tvl&&0!==e.tvl.length?e.tvl.map(e=>({date:e.date,tvl:e.totalLiquidityUSD})):[]}(t);e(p(n))}catch(e){console.error(e)}},o=(0,S.useCallback)(()=>{t?e(v(t)):e(v("0x0000000000000000000000000000000000000001"))},[t,e]);return(0,S.useEffect)(()=>(o(),s(),a.current=setInterval(o,5e3),()=>{a.current&&clearInterval(a.current)}),[]),(0,S.useEffect)(()=>{n&&t?(a.current&&clearInterval(a.current),o(),a.current=setInterval(o,5e3)):a.current&&clearInterval(a.current)},[n,t,o]),{refreshProtocolData:o}};function P(e){let{children:t}=e;return A(),(0,a.jsx)(a.Fragment,{children:t})}function C(e){let{children:t}=e;return(0,a.jsx)(r.Kq,{store:T,children:(0,a.jsx)(j,{children:(0,a.jsx)(P,{children:t})})})}},99304:(e,t,n)=>{"use strict";n.d(t,{ThemeProvider:()=>i});var a=n(95155);n(12115);var r=n(51362);function i(e){let{children:t,...n}=e;return(0,a.jsx)(r.N,{...n,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,2655,8451,4550,2960,5680,2512,2353,1552,8838,1071,3106,8616,8441,1684,7358],()=>t(85118)),_N_E=e.O()}]);