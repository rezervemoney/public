"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8616],{8345:(e,t,n)=>{n.d(t,{Ay:()=>g,BC:()=>T,nh:()=>f});var a=n(65521),i=n(89090),r=n(97868),s=n(61046),p=n(76736),o=n(36768),d=n(86770),u=n(81100),y=n(97351),l=n(75162),c=n(67474),m=n(51990);let T=(0,a.v)(e=>({isStaking:!1,stakeError:null,stakeTxHash:null,zapAndStake:async function(t,n,a,m){let T,b=arguments.length>4&&void 0!==arguments[4]?arguments[4]:18;e({isStaking:!0,stakeError:null,stakeTxHash:null});try{if(m!==p.A.tokens.RZR.address){let e={chainId:u.T.id,compact:!1,likeAsset:!1,gasPrice:60,referralCode:1,slippageLimitPercent:1,inputTokens:[{tokenAddress:m,amount:(0,i.X)(t,b).toString()}],outputTokens:[{tokenAddress:p.A.tokens.RZR.address,proportion:1}],userAddr:p.A.coreAddresses.uiHelperWrite},n=await (0,d.S)(e);if(!n)throw Error("invalid quote from odos");if(!(T=await (0,d.p)(p.A.coreAddresses.uiHelperWrite,n)))throw Error("invalid tx data from odos")}console.log("zapAndStake",[a,(0,i.X)(t,b).toString(),(0,r.g)(n),m,T?T.transaction.data:""]);let f=await (0,y.E)(c.$,{address:p.A.coreAddresses.uiHelperWrite,abi:o,functionName:"zapAndStake",args:[a,(0,i.X)(t,b).toString(),(0,r.g)(n),m,T?T.transaction.data:""],value:m===s.Xd?(0,r.g)(t):0n});await (0,l.n)(c.$,{hash:f}),e({stakeTxHash:f})}catch(t){console.error("Stake failed:",t),e({stakeError:"Stake failed. Please try again."})}finally{e({isStaking:!1})}}})),b=(0,m.Z0)({name:"staking",initialState:{allStakes:[]},reducers:{setAllStakes:(e,t)=>{e.allStakes=t.payload}}}),{setAllStakes:f}=b.actions,g=b.reducer},36768:e=>{e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_staking","type":"address"},{"internalType":"address","name":"_bondDepository","type":"address"},{"internalType":"address","name":"_treasury","type":"address"},{"internalType":"address","name":"_appToken","type":"address"},{"internalType":"address","name":"_stakingToken","type":"address"},{"internalType":"address","name":"_rebaseController","type":"address"},{"internalType":"address","name":"_appOracle","type":"address"},{"internalType":"address","name":"_shadowLP","type":"address"},{"internalType":"address","name":"_bootstrapLP","type":"address"},{"internalType":"address","name":"_odos","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"SafeERC20FailedOperation","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"inputs":[],"name":"appOracle","outputs":[{"internalType":"contract IAppOracle","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"appToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bondDepository","outputs":[{"internalType":"contract IAppBondDepository","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bootstrapLP","outputs":[{"internalType":"contract IBootstrapLP","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"name":"claimAllRewards","outputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"odos","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rebaseController","outputs":[{"internalType":"contract IRebaseController","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shadowLP","outputs":[{"internalType":"contract IOracle","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staking","outputs":[{"internalType":"contract IAppStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stakingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"contract IAppTreasury","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"bytes","name":"odosData","type":"bytes"}],"name":"zapAndMint","outputs":[{"internalType":"uint256","name":"dreAmountOfLp","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"dreAmountDeclared","type":"uint256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"bytes","name":"odosData","type":"bytes"}],"name":"zapAndStake","outputs":[{"internalType":"uint256","name":"dreAmountSwapped","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenAmountIn","type":"uint256"},{"internalType":"uint256","name":"dreAmountDeclaredAsPercentage","type":"uint256"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"bytes","name":"odosData","type":"bytes"}],"name":"zapAndStakeAsPercentage","outputs":[{"internalType":"uint256","name":"dreAmountSwapped","type":"uint256"}],"stateMutability":"payable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},40184:(e,t,n)=>{n.d(t,{m:()=>i});var a=n(34540);let i=()=>({...(0,a.d4)(e=>e.protocol)})},52939:(e,t,n)=>{n.d(t,{Ay:()=>o,Nh:()=>p,r1:()=>s});let a=(0,n(51990).Z0)({name:"user",initialState:{isConnected:!1,address:null,chainId:null,isLoading:!1,error:null},reducers:{setWalletConnection:(e,t)=>{e.isConnected=!0,e.address=t.payload.address,e.chainId=t.payload.chainId,e.error=null},disconnectWallet:e=>{e.isConnected=!1,e.address=null,e.chainId=null},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}}}),{setWalletConnection:i,disconnectWallet:r,setLoading:s,setError:p}=a.actions,o=a.reducer},53999:(e,t,n)=>{n.d(t,{Af:()=>l,Ee:()=>p,cn:()=>s,dz:()=>d,ej:()=>o});var a=n(52596),i=n(39688),r=n(1405);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.QP)((0,a.$)(t))}let p=e=>"".concat(e>0?"+":"").concat(e.toFixed(1),"%"),o=e=>{let t="string"==typeof e?parseFloat(e):e;return t<.01&&t>0?"<0.01":t.toFixed(2)},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="string"==typeof e?BigInt(e):e;return l((0,r.J)(a,t),n)},u=e=>{let t=Math.abs(e);return t>=1e9?(e/1e9).toFixed(2)+"b":t>=1e6?(e/1e6).toFixed(2)+"m":t>=1e3?(e/1e3).toFixed(2)+"k":e.toFixed(2)},y=e=>{let t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="string"==typeof e?Number(e):e;if(n<.01&&n>0)return"<".concat(t,"0.01");if(0===n)return"".concat(t,"0.00");let a=y(u(n));return"".concat(t).concat(a)}},67474:(e,t,n)=>{n.d(t,{$:()=>y});var a=n(29349),i=n(36241),r=n(81100),s=n(63439),p=n(74113),o=n(34324),d=n(51424);let u=(0,s.Qq)([{groupName:"Recommended",wallets:[p.G,o.d,d.O]}],{appName:"RZR Munney",projectId:"c385954abce0db2b929248968af25c16"}),y=(0,a.Z)({chains:[r.T],connectors:u,transports:{[r.T.id]:(0,i.L)("https://rpc.soniclabs.com")}})},76736:(e,t,n)=>{n.d(t,{A:()=>r,wS:()=>a});let a="0x039e2fb66102314ce7b64ce5ce3e5183bc94ad38",i={treasury:"0xe22e10f8246dF1f0845eE3E9f2F0318bd60EFC85",stakingContract:"0xd060499DDC9cb7deB07f080BAeB1aDD36AA2C650",dreBondDepository:"0x44b497aa4b742dc48Ce0bd26F66da9aecA19Bd75",dreOracle:"0x82884801428895c2550ED1CA96997BD60F74B5cC",uiHelperRead:"0xA2806674DCd29bE2BC037cC23bdd6f4577860f44",uiHelperWrite:"0xe236f3c0A1fc905615bC1F8b421Ce0f5b55680Ce",bootstrapLP:"0x397C754691dB1d66B668d85ef9aDBCb5937D0b0D",vaults:{lstRZR:"0x67A298e5B65dB2b4616E05C3b455E017275f53cB"}},r={tokens:{SONIC:{address:"0x0000000000000000000000000000000000000000",decimals:18,symbol:"S"},USDC:{address:"0x29219dd400f2Bf60E5a23d13Be72B486D4038894",decimals:6,symbol:"USDC"},scUSD:{address:"0xd3DCe716f3eF535C5Ff8d041c1A41C3bd89b97aE",decimals:6,symbol:"scUSD"},RZR:{address:"0xb4444468e444f89e1c2CAc2F1D3ee7e336cBD1f5",decimals:18,symbol:"RZR"},stS:{address:"0xE5DA20F15420aD15DE0fa650600aFc998bbE3955",decimals:18,symbol:"stS"},RSV_scUSD_LP:{address:"0x08c5e3b7533ee819a4d1f66e839d0e8f04ae3d0c",decimals:18,symbol:"RSV_scUSD_LP"},RSV_stS_LP:{address:"0x36e6765907DD61b50Ad33F79574dD1B63339B59c",decimals:18,symbol:"RSV_stS_LP"}},coreAddresses:i,approvalContracts:[i.treasury,i.stakingContract,i.dreBondDepository]}},78014:e=>{e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_staking","type":"address"},{"internalType":"address","name":"_bondDepository","type":"address"},{"internalType":"address","name":"_treasury","type":"address"},{"internalType":"address","name":"_appToken","type":"address"},{"internalType":"address","name":"_stakingToken","type":"address"},{"internalType":"address","name":"_rebaseController","type":"address"},{"internalType":"address","name":"_appOracle","type":"address"},{"internalType":"address","name":"_shadowLP","type":"address"},{"internalType":"address","name":"_bootstrapLP","type":"address"},{"internalType":"address","name":"_odos","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"uint256","name":"positionId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"RewardsClaimed","type":"event"},{"inputs":[],"name":"appOracle","outputs":[{"internalType":"contract IAppOracle","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"appToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bondDepository","outputs":[{"internalType":"contract IAppBondDepository","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"bootstrapLP","outputs":[{"internalType":"contract IBootstrapLP","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"calculateAPR","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"totalStaked","type":"uint256"}],"name":"calculateAPRRaw","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"startingIndex","type":"uint256"},{"internalType":"uint256","name":"endingIndex","type":"uint256"}],"name":"getAllStakingPositions","outputs":[{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct AppUIHelperBase.StakingPositionInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256[]","name":"bondIds","type":"uint256[]"}],"name":"getBondVariables","outputs":[{"components":[{"internalType":"bool","name":"enabled","type":"bool"},{"internalType":"uint256","name":"capacity","type":"uint256"},{"internalType":"contract IERC20","name":"quoteToken","type":"address"},{"internalType":"uint256","name":"totalDebt","type":"uint256"},{"internalType":"uint256","name":"maxPayout","type":"uint256"},{"internalType":"uint256","name":"sold","type":"uint256"},{"internalType":"uint256","name":"purchased","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"endTime","type":"uint256"},{"internalType":"uint256","name":"initialPrice","type":"uint256"},{"internalType":"uint256","name":"finalPrice","type":"uint256"}],"internalType":"struct IAppBondDepository.Bond[]","name":"bonds","type":"tuple[]"},{"internalType":"uint256[]","name":"currentPrices","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"user","type":"address"},{"internalType":"address[]","name":"bondTokens","type":"address[]"}],"name":"getProtocolInfo","outputs":[{"internalType":"uint256","name":"tvl","type":"uint256"},{"internalType":"uint256","name":"totalSupply","type":"uint256"},{"internalType":"uint256","name":"totalStaked","type":"uint256"},{"internalType":"uint256","name":"totalRewards","type":"uint256"},{"internalType":"uint256","name":"currentAPR","type":"uint256"},{"internalType":"uint256","name":"currentSpotPrice","type":"uint256"},{"internalType":"uint256","name":"unbackedSupply","type":"uint256"},{"components":[{"internalType":"address","name":"token","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint256","name":"balance","type":"uint256"},{"internalType":"uint256","name":"allowance","type":"uint256"},{"internalType":"uint256","name":"treasuryBalance","type":"uint256"},{"internalType":"uint256","name":"treasuryValueApp","type":"uint256"},{"internalType":"uint8","name":"decimals","type":"uint8"},{"internalType":"uint256","name":"oraclePrice","type":"uint256"},{"internalType":"uint256","name":"oraclePriceInApp","type":"uint256"}],"internalType":"struct AppUIHelperBase.TokenInfo[]","name":"tokenInfos","type":"tuple[]"},{"components":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"declaredValue","type":"uint256"},{"internalType":"uint256","name":"rewards","type":"uint256"},{"internalType":"uint256","name":"cooldownEnd","type":"uint256"},{"internalType":"uint256","name":"rewardsUnlockAt","type":"uint256"},{"internalType":"bool","name":"isActive","type":"bool"}],"internalType":"struct AppUIHelperBase.StakingPositionInfo[]","name":"stakingPositions","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"uint256","name":"bondId","type":"uint256"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"quoteAmount","type":"uint256"},{"internalType":"uint256","name":"startTime","type":"uint256"},{"internalType":"uint256","name":"lastClaimTime","type":"uint256"},{"internalType":"uint256","name":"claimedAmount","type":"uint256"},{"internalType":"uint256","name":"claimableAmount","type":"uint256"},{"internalType":"bool","name":"isStaked","type":"bool"}],"internalType":"struct AppUIHelperBase.BondPositionInfo[]","name":"bondPositions","type":"tuple[]"},{"components":[{"internalType":"uint256","name":"apr","type":"uint256"},{"internalType":"uint256","name":"epochRate","type":"uint256"},{"internalType":"uint256","name":"toStakers","type":"uint256"},{"internalType":"uint256","name":"toOps","type":"uint256"},{"internalType":"uint256","name":"toBurner","type":"uint256"}],"internalType":"struct AppUIHelperBase.ProjectedEpochRate","name":"projectedEpochRate","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"odos","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"rebaseController","outputs":[{"internalType":"contract IRebaseController","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"shadowLP","outputs":[{"internalType":"contract IOracle","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"staking","outputs":[{"internalType":"contract IAppStaking","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"stakingToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"treasury","outputs":[{"internalType":"contract IAppTreasury","name":"","type":"address"}],"stateMutability":"view","type":"function"}]')},86770:(e,t,n)=>{n.d(t,{S:()=>a,p:()=>i});let a=async e=>{let t={...e,slippageLimitPercent:1,disableRFQs:!0,compact:!1},n=await fetch("https://api.odos.xyz/sor/quote/v2",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200===n.status)return await n.json();console.error("Error in Quote:",n)},i=async(e,t)=>{let n={userAddr:e,pathId:t.pathId,simulate:!0},a=await fetch("https://api.odos.xyz/sor/assemble",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(200===a.status)return await a.json();console.error("Error in Transaction Assembly:",a)}},97168:(e,t,n)=>{n.d(t,{$:()=>d});var a=n(95155),i=n(12115),r=n(99708),s=n(74466),p=n(53999);let o=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:n,variant:i,size:s,asChild:d=!1,...u}=e,y=d?r.DX:"button";return(0,a.jsx)(y,{className:(0,p.cn)(o({variant:i,size:s,className:n})),ref:t,...u})});d.displayName="Button"}}]);